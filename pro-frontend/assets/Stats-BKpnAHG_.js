import{j as e}from"./ui-vendor-DjtdC3iZ.js";import{r as C}from"./react-vendor-DWrzsp0o.js";import{c as w,T as S,o as A,p as D,q as F,f as T,L as M,B as E}from"./index-CX6e3e6v.js";import{u as P}from"./pro-BLrhzhxu.js";import{B as v}from"./badge-DafbdF4t.js";import{C as x,a as p,c as h,b,d as j}from"./card-SJHWFEUi.js";import{S as d}from"./skeleton-BQs0x_V-.js";import{U as V}from"./users-BNeOueFB.js";import{S as $,I as z}from"./scroll-area-bPXHL8tR.js";import{S as B}from"./sparkles-KJtnsgt-.js";import{u as U}from"./useQuery-CdrMCFj5.js";import{a as q}from"./api-PPFfqhN_.js";import"./index-Dbmg-Ekv.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=w("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=w("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=w("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=w("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=w("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),m={total_revenue:{label:"Ingresos del mes",tooltip:"Suma estimada de los servicios completados en el mes calendario actual.",accent:"emerald"},avg_ticket:{label:"Ticket medio",tooltip:"Ingresos divididos entre reservas atendidas en el mes actual.",accent:"indigo"},repeat_rate:{label:"Repetición de clientas",tooltip:"Porcentaje de clientas con visita previa al mes en curso.",accent:"amber"},new_clients:{label:"Nuevas clientas",tooltip:"Clientas que visitan por primera vez este mes.",accent:"rose"}},W={high:{label:"Alta prioridad",className:"bg-rose-500/15 text-rose-200 ring-rose-400/40"},medium:{label:"Media prioridad",className:"bg-amber-500/15 text-amber-200 ring-amber-400/40"},low:{label:"Idea",className:"bg-emerald-500/15 text-emerald-200 ring-emerald-400/40"}},Y=({insights:t,isLoading:a})=>a&&t.length===0?e.jsxs(x,{className:"rounded-3xl border border-white/10 bg-white/5 p-6",children:[e.jsxs(p,{className:"space-y-3 p-0",children:[e.jsx(d,{className:"h-5 w-48 bg-white/10"}),e.jsx(d,{className:"h-4 w-64 bg-white/10"})]}),e.jsx(h,{className:"space-y-3 p-0 pt-4",children:Array.from({length:3}).map((s,n)=>e.jsx(d,{className:"h-20 w-full rounded-2xl bg-white/10"},n))})]}):e.jsxs(x,{className:"rounded-3xl border border-white/12 bg-gradient-to-br from-slate-950/90 via-slate-900/70 to-slate-950/90 p-6",children:[e.jsxs(p,{className:"space-y-2 p-0",children:[e.jsxs(b,{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(O,{className:"h-5 w-5 text-amber-300","aria-hidden":"true"}),"Recomendaciones accionables"]}),e.jsx(j,{className:"text-sm text-white/60",children:"Ideas basadas en tus cifras actuales para seguir creciendo."})]}),e.jsx(h,{className:"mt-4 space-y-3 p-0",children:t.length>0?t.map(s=>{const n=W[s.priority];return e.jsxs("div",{className:"space-y-2 rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-white/80",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("p",{className:"text-base font-semibold text-white",children:s.title}),e.jsx(v,{variant:"outline",className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold ${n.className}`,children:n.label})]}),e.jsx("p",{className:"text-white/70",children:s.description})]},s.id)}):e.jsx("div",{className:"flex min-h-[120px] flex-col items-center justify-center rounded-2xl border border-dashed border-white/10 bg-white/5 text-center text-sm text-white/60",children:"No hay recomendaciones específicas por ahora. Una vez acumules más reservas aparecerán aquí."})})]}),H={up:"bg-emerald-500/15 text-emerald-200 ring-emerald-400/40",down:"bg-rose-500/15 text-rose-200 ring-rose-400/40",steady:"bg-slate-500/15 text-slate-200 ring-slate-400/40"},Q={up:"Mejora",down:"En riesgo",steady:"Estable"},K=({segments:t,isLoading:a})=>a&&t.length===0?e.jsxs(x,{className:"rounded-3xl border border-white/10 bg-white/5 p-6",children:[e.jsxs(p,{className:"space-y-3 p-0",children:[e.jsx(d,{className:"h-5 w-48 bg-white/10"}),e.jsx(d,{className:"h-4 w-56 bg-white/10"})]}),e.jsx(h,{className:"space-y-3 p-0 pt-4",children:Array.from({length:3}).map((s,n)=>e.jsx(d,{className:"h-14 w-full rounded-2xl bg-white/10"},n))})]}):e.jsxs(x,{className:"rounded-3xl border border-white/12 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6",children:[e.jsxs(p,{className:"space-y-2 p-0",children:[e.jsxs(b,{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(V,{className:"h-5 w-5 text-emerald-300","aria-hidden":"true"}),"Retención de clientas"]}),e.jsx(j,{className:"text-sm text-white/60",children:"Revisa los grupos según su última visita y prioriza acciones de reactivación."})]}),e.jsx(h,{className:"mt-4 space-y-3 p-0",children:t.length>0?t.map(s=>e.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-white/80 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-base font-semibold text-white",children:s.label}),s.description?e.jsx("p",{className:"text-xs text-white/60",children:s.description}):null]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[e.jsxs("div",{className:"text-white/70",children:[e.jsx("span",{className:"font-semibold text-white",children:s.count})," clientas · ",s.shareLabel]}),e.jsx(v,{variant:"secondary",className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold ${H[s.trend]}`,children:Q[s.trend]})]})]},s.id)):e.jsx("div",{className:"flex min-h-[120px] flex-col items-center justify-center rounded-2xl border border-dashed border-white/10 bg-white/5 text-center text-sm text-white/60",children:"Aún no hay suficiente historial para calcular la retención por cohortes."})})]}),J=({value:t,label:a})=>{const s=t>1?I:t<-1?L:R,n=t>1?"text-emerald-200 border-emerald-400/40 bg-emerald-500/10":t<-1?"text-rose-200 border-rose-400/40 bg-rose-500/10":"text-white/60 border-white/20 bg-white/10";return e.jsxs(v,{variant:"secondary",className:`inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-semibold ${n}`,children:[e.jsx(s,{className:"h-4 w-4","aria-hidden":"true"}),a]})},X=({services:t,isLoading:a})=>a&&t.length===0?e.jsxs(x,{className:"rounded-3xl border border-white/10 bg-white/5 p-6",children:[e.jsxs(p,{className:"space-y-3 p-0",children:[e.jsx(d,{className:"h-5 w-48 bg-white/10"}),e.jsx(d,{className:"h-4 w-64 bg-white/10"})]}),e.jsx(h,{className:"p-0 pt-4",children:e.jsx(d,{className:"h-40 w-full rounded-2xl bg-white/5"})})]}):e.jsxs(x,{className:"rounded-3xl border border-white/12 bg-white/5 p-6 shadow-[0_28px_80px_-60px_rgba(56,189,248,0.45)]",children:[e.jsxs(p,{className:"space-y-2 p-0",children:[e.jsxs(b,{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[e.jsx(B,{className:"h-5 w-5 text-emerald-300","aria-hidden":"true"})," Servicios con mejor desempeño"]}),e.jsx(j,{className:"text-sm text-white/60",children:"Ranking de ingresos del mes actual frente al anterior. Úsalo para enfocar promociones."})]}),e.jsx(h,{className:"p-0 pt-4",children:t.length>0?e.jsx($,{className:"max-h-[320px] pr-3",children:e.jsxs("table",{className:"w-full min-w-[360px] border-separate border-spacing-y-2 text-sm text-white/85",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-xs uppercase tracking-[0.24em] text-white/60",children:[e.jsx("th",{className:"text-left",children:"Servicio"}),e.jsx("th",{className:"text-right",children:"Ingresos"}),e.jsx("th",{className:"text-center",children:"Reservas"}),e.jsx("th",{className:"text-right",children:"Tendencia"})]})}),e.jsx("tbody",{children:t.map(s=>e.jsxs("tr",{className:"rounded-2xl bg-white/5 text-sm",children:[e.jsx("td",{className:"rounded-l-2xl px-4 py-3 font-semibold text-white",children:s.serviceName}),e.jsx("td",{className:"px-4 py-3 text-right tabular-nums text-white/90",children:s.revenueLabel}),e.jsx("td",{className:"px-4 py-3 text-center tabular-nums text-white/70",children:s.appointments}),e.jsx("td",{className:"rounded-r-2xl px-4 py-3 text-right",children:e.jsx(J,{value:s.growthValue,label:s.growthLabel})})]},s.serviceId))})]})}):e.jsx("div",{className:"flex min-h-[140px] flex-col items-center justify-center rounded-2xl border border-dashed border-white/15 bg-white/5 text-center text-sm text-white/60",children:"Todavía no hay datos suficientes para mostrar el rendimiento por servicios."})})]}),Z={up:I,down:L,steady:R},ee={emerald:"from-emerald-500/25 via-emerald-500/10 to-transparent border-emerald-300/30 text-emerald-50",indigo:"from-indigo-500/25 via-indigo-500/10 to-transparent border-indigo-300/30 text-indigo-50",amber:"from-amber-500/25 via-amber-500/10 to-transparent border-amber-300/30 text-amber-50",rose:"from-rose-500/25 via-rose-500/10 to-transparent border-rose-300/30 text-rose-50"},te=({cards:t,isLoading:a,errorMessage:s,onRetry:n})=>{const r=a&&t.length===0?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:Array.from({length:4}).map((l,c)=>e.jsx(x,{className:"rounded-3xl border border-white/10 bg-white/5 p-6",children:e.jsxs(h,{className:"space-y-4 p-0",children:[e.jsx(d,{className:"h-4 w-24 bg-white/10"}),e.jsx(d,{className:"h-8 w-32 bg-white/10"}),e.jsx(d,{className:"h-4 w-20 bg-white/10"})]})},`summary-skeleton-${c}`))}):s&&t.length===0?e.jsxs(x,{className:"rounded-3xl border border-rose-400/30 bg-rose-500/10 p-6 text-rose-50",children:[e.jsx(p,{className:"p-0 text-base font-medium",children:"No pudimos cargar tus métricas."}),e.jsxs(h,{className:"p-0 pt-4 text-sm",children:[e.jsx("p",{className:"text-rose-100/80",children:s}),e.jsx("button",{type:"button",onClick:n,className:"mt-3 inline-flex items-center rounded-full border border-rose-300/60 px-3 py-1 text-xs font-semibold text-rose-50 transition hover:bg-rose-400/20",children:"Reintentar"})]})]}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:t.map(l=>{var g;const c=Z[l.trend],o=ee[l.accent],u=l.tooltip??((g=m[l.id])==null?void 0:g.tooltip);return e.jsxs(x,{className:`rounded-3xl border bg-gradient-to-br ${o} shadow-[0_28px_68px_-40px_rgba(15,185,129,0.55)] backdrop-blur`,children:[e.jsxs(p,{className:"flex flex-row items-start justify-between gap-3 p-6 pb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(b,{className:"text-sm font-semibold uppercase tracking-[0.18em] text-white/70",children:l.label}),e.jsx("p",{className:"text-3xl font-semibold text-white",children:l.formattedValue})]}),u?e.jsx(S,{delayDuration:150,children:e.jsxs(A,{children:[e.jsx(D,{asChild:!0,children:e.jsx("button",{type:"button",className:"inline-flex h-7 w-7 items-center justify-center rounded-full border border-white/15 text-white/70 hover:bg-white/10",children:e.jsx(z,{className:"h-4 w-4","aria-hidden":"true"})})}),e.jsx(F,{className:"max-w-xs border-white/15 bg-slate-950 text-xs text-white/90",children:u})]})}):null]}),e.jsxs(h,{className:"flex items-center gap-2 p-6 pt-0 text-sm text-white/80",children:[e.jsxs(v,{variant:"secondary",className:"inline-flex items-center gap-1 rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs font-semibold text-white",children:[e.jsx(c,{className:"h-4 w-4","aria-hidden":"true"}),l.formattedChange]}),e.jsx("span",{className:"text-white/70",children:"vs. mes anterior"})]})]},l.id)})});return e.jsx("section",{className:"space-y-4",children:r})},_=(t,a)=>{if(t.length===0)return"";const s=Math.max(...t),n=Math.min(...t),r=s-n||1,l=8;return t.map((c,o)=>{const u=t.length===1?50:o/(t.length-1)*100,i=(1-(c-n)/r)*(a-l*2)+l;return`${u.toFixed(2)},${i.toFixed(2)}`}).join(" ")},se=({points:t,isLoading:a,errorMessage:s,onRetry:n})=>{if(a&&t.length===0)return e.jsxs(x,{className:"rounded-3xl border border-white/10 bg-white/5 p-6",children:[e.jsxs(p,{className:"space-y-3 p-0",children:[e.jsx(d,{className:"h-5 w-48 bg-white/10"}),e.jsx(d,{className:"h-4 w-64 bg-white/10"})]}),e.jsx(h,{className:"p-0 pt-6",children:e.jsx(d,{className:"h-48 w-full rounded-3xl bg-white/5"})})]});if(s&&t.length===0)return e.jsxs(x,{className:"rounded-3xl border border-rose-400/30 bg-rose-500/10 p-6 text-rose-50",children:[e.jsxs(p,{className:"p-0",children:[e.jsx(b,{className:"text-base font-semibold",children:"No pudimos cargar el histórico de ingresos."}),e.jsx(j,{className:"text-sm text-rose-50/80",children:s})]}),e.jsx(h,{className:"p-0 pt-4",children:e.jsx("button",{type:"button",className:"inline-flex items-center rounded-full border border-rose-300/60 px-3 py-1 text-xs font-semibold text-rose-50 hover:bg-rose-400/20",onClick:n,children:"Reintentar"})})]});const r=_(t.map(o=>o.revenueValue),100),l=_(t.map(o=>o.appointments),100),c=t[t.length-1];return e.jsxs(x,{className:"rounded-3xl border border-white/12 bg-gradient-to-br from-slate-950/80 via-slate-900/60 to-slate-950/80 p-6",children:[e.jsxs(p,{className:"flex flex-col gap-3 p-0",children:[e.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[e.jsx(G,{className:"h-5 w-5","aria-hidden":"true"}),e.jsx("span",{className:"text-sm font-semibold uppercase tracking-[0.24em] text-white/55",children:"Rendimiento último semestre"})]}),e.jsx(b,{className:"text-2xl font-semibold text-white",children:c?c.revenueLabel:"Sin datos"}),e.jsx(j,{className:"text-sm text-white/60",children:"Ingresos estimados por mes. Usa esta tendencia para planificar campañas y gestionar tu capacidad."})]}),e.jsxs(h,{className:"p-0 pt-6",children:[e.jsxs("div",{className:"relative h-56 w-full",children:[e.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"h-full w-full text-white/60",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"stats-revenue-fill",x1:"0",x2:"0",y1:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(16, 185, 129, 0.4)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(15, 118, 110, 0)"})]})}),r?e.jsxs(e.Fragment,{children:[e.jsx("polyline",{points:`0,100 ${r} 100,100`,fill:"url(#stats-revenue-fill)",stroke:"none"}),e.jsx("polyline",{points:r,fill:"none",stroke:"rgba(16,185,129,0.85)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):null,l?e.jsx("polyline",{points:l,fill:"none",stroke:"rgba(96,165,250,0.75)",strokeDasharray:"3 4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}):null]}),e.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-end justify-between px-1 pb-2 text-[0.75rem] text-white/60",children:t.map(o=>e.jsx("span",{className:"w-12 text-center",children:o.label},o.monthIso))})]}),c?e.jsxs("div",{className:"mt-4 grid gap-3 text-sm text-white/80 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60",children:"Ingresos estimados"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:c.revenueLabel})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60",children:"Reservas del mes"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:c.appointments})]})]}):null]})]})},re=new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}),ae=new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}),ie=new Intl.NumberFormat("es-ES",{style:"percent",maximumFractionDigits:1}),N=(t,{withDecimals:a=!1}={})=>{const s=Number.isFinite(t)?t:0;return(a?ae:re).format(s)},ne=t=>{const a=Number.isFinite(t)?t/100:0;return ie.format(a)},f=t=>{const a=Number.isFinite(t)?t:0;return`${a>0?"+":""}${ne(a)}`},k=t=>`${(Number.isFinite(t)?t:0).toFixed(1)}%`,y=t=>t>1?"up":t<-1?"down":"steady",le=t=>{var n;const a=U({queryKey:["pros","stats"],queryFn:q.prosStats,enabled:t,staleTime:6e4,refetchInterval:3e5});return{data:C.useMemo(()=>{const r=a.data;if(!r)return null;const l=[{id:"total_revenue",label:m.total_revenue.label,formattedValue:N(r.summary.total_revenue_eur,{withDecimals:!0}),formattedChange:f(r.summary.revenue_change_pct),trend:y(r.summary.revenue_change_pct),accent:m.total_revenue.accent,tooltip:m.total_revenue.tooltip},{id:"avg_ticket",label:m.avg_ticket.label,formattedValue:N(r.summary.avg_ticket_eur,{withDecimals:!0}),formattedChange:f(r.summary.avg_ticket_change_pct),trend:y(r.summary.avg_ticket_change_pct),accent:m.avg_ticket.accent,tooltip:m.avg_ticket.tooltip},{id:"repeat_rate",label:m.repeat_rate.label,formattedValue:k(r.summary.repeat_rate_pct),formattedChange:f(r.summary.repeat_rate_change_pct),trend:y(r.summary.repeat_rate_change_pct),accent:m.repeat_rate.accent,tooltip:m.repeat_rate.tooltip},{id:"new_clients",label:m.new_clients.label,formattedValue:`${r.summary.new_clients}`,formattedChange:f(r.summary.new_clients_change_pct),trend:y(r.summary.new_clients_change_pct),accent:m.new_clients.accent,tooltip:m.new_clients.tooltip}],c=r.revenue_series.map(i=>({label:i.label,monthIso:i.period,revenueValue:i.revenue_eur,revenueLabel:N(i.revenue_eur,{withDecimals:!0}),appointments:i.appointments})),o=r.top_services.map(i=>({serviceId:i.service_id,serviceName:i.service_name,revenueValue:i.total_revenue_eur,revenueLabel:N(i.total_revenue_eur,{withDecimals:!0}),appointments:i.total_appointments,growthValue:i.growth_pct,growthLabel:f(i.growth_pct)})),u=r.retention.map(i=>({id:i.id,label:i.label,count:i.count,shareValue:i.share_pct,shareLabel:k(i.share_pct),trend:i.trend,description:i.description})),g=r.insights.map(i=>({id:i.id,title:i.title,description:i.description,priority:i.priority}));return{summaryCards:l,trendPoints:c,services:o,retention:u,insights:g,generatedAt:r.generated_at}},[a.data])??{summaryCards:[],trendPoints:[],services:[],retention:[],insights:[],generatedAt:""},isLoading:a.isLoading,isFetching:a.isFetching,errorMessage:((n=a.error)==null?void 0:n.message)??null,refetch:a.refetch}},oe=()=>{const{session:t}=P(),{toast:a}=T(),s=!!(t!=null&&t.stylist),n=le(s);if(C.useEffect(()=>{!n.errorMessage||n.isLoading||a({title:"No pudimos cargar las métricas",description:n.errorMessage,variant:"destructive"})},[n.errorMessage,n.isLoading,a]),!s)return e.jsxs("div",{className:"flex min-h-[280px] items-center justify-center text-sm text-muted-foreground",children:[e.jsx(M,{className:"mr-2 h-5 w-5 animate-spin","aria-hidden":"true"}),"Preparando tus estadísticas..."]});const{data:r,isLoading:l,isFetching:c,refetch:o}=n;return e.jsxs("section",{className:"mx-auto flex w-full max-w-6xl flex-col gap-6",children:[e.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Estadísticas"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Controla tus ingresos, fidelización y servicios estrella para tomar decisiones más rápido."}),c?e.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Actualizando datos en tiempo real..."}):null]}),e.jsx(E,{variant:"outline",size:"sm",onClick:()=>o(),children:"Refrescar"})]}),e.jsx(te,{cards:r.summaryCards,isLoading:l,errorMessage:n.errorMessage,onRetry:()=>o()}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.35fr)_minmax(0,1fr)]",children:[e.jsx(se,{points:r.trendPoints,isLoading:l,errorMessage:n.errorMessage,onRetry:()=>o()}),e.jsx(K,{segments:r.retention,isLoading:l})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.3fr)_minmax(0,0.9fr)]",children:[e.jsx(X,{services:r.services,isLoading:l}),e.jsx(Y,{insights:r.insights,isLoading:l})]})]})},ye=()=>e.jsx(oe,{});export{ye as default};
